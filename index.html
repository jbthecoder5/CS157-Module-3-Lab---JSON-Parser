<!DOCTYPE html>
<html lang="en">
  <head>
    <title>JSON Parser</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
  </head>
  <body>
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <!-- Popper needed for some Bootstrap components -->
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <!-- Bootstrap -->
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>   


    <div class="jumbotron text-center py-4">
      <h1>Module 3 Lab - JSON Parser</h1>
      <p>Create a JSON parser that accepts JSON text as input consisting of components for hyperlinks (name and url), parses the JSON as an array of objects, loops through it and creates a list in the DOM based on the JSON data.</p>
      <p>The JSON format, a sample of JSON and a sample output is included to give you an idea of its functionality. A step guide is included for you as comments to help you out.</p>
    </div>

    <div class="container jumbotron py-4 px-4">
      <h5>JSON Object Format</h5>
      <div class="alert alert-secondary">
        <pre class="my-0">{
  "name": "Link Name",
  "url": "https://www.somewebsite.com"
}</pre>
      </div>

      <form>
        <h5>JSON Input <small>(Array of objects)</small></h5>
        
        <textarea id="jsonText" class="form-control" style="font-size: .9em" rows="10">[{
   "name": "Google",
   "url": "https://www.google.com"
},
{
   "name": "Amazon",
   "url": "https://www.amazon.com"
}]</textarea>
        
        <button id="parseJsonBtn" type="button" class="btn btn-primary form-control mt-3">PARSE</button>
        <hr/>
        <h5>HTML Output</h5>

        <ul id="linkList" class="list-group">
          <!-- Sample Begin -->
           <!--<li class="list-group-item"><a href="https://www.google.com" target="_blank">Google</a></li>-->
           <!--<li class="list-group-item"><a href="https://www.amazon.com" target="_blank">Amazon</a></li>-->
          <!-- Sample End -->
        </ul>
        <small style="color: red">Remove the sample output above in the HTML before you implement the parser. The sample is just to show you the output of the parser based on the JSON data above.</small>
      </form>
    </div>

    <script>
      
      // 1. Create a click handler for the parseJsonBtn button
      // 2. Parse the JSON from the JSON Input box. id is jsonText
      // 3. Empty the <ul> with id linkList (.empty() in jQuery)
      // 4. Loop through the parsed object array created in step 2.
      //    a. Create the new <li> and <a> elements that match the sample format
      //    b. Make sure to add a target="_blank" attribute to the link so they open up in a new tab
      //    c. Append the newly created <li> to the unordered list <ul> (id: linkList)

      $('#parseJsonBtn').click(function(){
        var jsonString = $('#jsonText').val();
        var hyperLinks = JSON.parse(jsonString);

        $('#linkList').empty();

        for(i = 0; i < hyperLinks.length; i++) {
          $('#linkList').html("<li>" + hyperLinks[i].name + "<a href=\'" + hyperLinks[i].url + "\'" + "</a></li>");
        }

        
      });
      



    </script>
  </body>
</html>